<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Small Animal Anesthesia Dose Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    h1 {
      margin-bottom: 0.3rem;
    }
    .note {
      font-size: 0.9rem;
      color: #555;
      margin-bottom: 1rem;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      background: #fff;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 4px 6px;
      font-size: 0.85rem;
      text-align: left;
    }
    th {
      background: #e0e0e0;
      text-align: center;
    }
    .section-header {
      background: #ffd6d6;
      font-weight: bold;
      text-align: left;
    }
    .sub-header {
      background: #f0f0ff;
      font-style: italic;
    }
    .patient-row th {
      background: #fbe5d6;
    }
    .input-number {
      width: 60px;
      padding: 2px 3px;
      border: 1px solid #aaa;
      background: #ffe6b5; /* orange cells */
      text-align: right;
    }
    .output-number {
      width: 60px;
      padding: 2px 3px;
      border: 1px solid #aaa;
      background: #c6efce; /* green cells */
      text-align: right;
    }
    .small {
      font-size: 0.75rem;
    }
  </style>
</head>
<body>
  <h1>Small Animal Anesthesia Dose Calculator</h1>
  <div class="note">
    Change the <strong>orange</strong> cells (Patient Wt & “Actual Dose”). <br/>
    The <strong>green</strong> cells are calculated automatically using:<br/>
    <code>mg = weight (kg) × dose (/kg)</code> &nbsp;&nbsp;
    <code>mL = mg ÷ concentration (mg/mL)</code>
  </div>

  <table>
    <tr class="patient-row">
      <th>Patient Wt</th>
      <th colspan="9" style="text-align:left;">
        <input id="patientWeight" type="number" step="0.01" value="4.5" class="input-number" /> (kgs)
      </th>
    </tr>
    <tr>
      <th>Category</th>
      <th>Drug</th>
      <th>Route</th>
      <th>Dose Range (/kg)</th>
      <th>Actual Dose</th>
      <th>mg</th>
      <th>Concentration (mg/mL)</th>
      <th>mL</th>
      <th>Advantages</th>
      <th>Disadvantages</th>
    </tr>

    <!-- PREMEDS -->
    <tr><td class="section-header" colspan="10">Premedications</td></tr>
    <tr><td class="sub-header" colspan="10">Anticholinergics</td></tr>

    <tr>
      <td>Anticholinergics</td>
      <td>Atropine</td>
      <td>IM, SQ, IV</td>
      <td>0.01–0.04</td>
      <td><input id="dose-atropine" type="number" step="0.001" value="0.01" class="input-number" /></td>
      <td><input id="mg-atropine" class="output-number" readonly /></td>
      <td>0.5</td>
      <td><input id="ml-atropine" class="output-number" readonly /></td>
      <td>Increase HR</td>
      <td>Tachycardia</td>
    </tr>

    <tr>
      <td>Anticholinergics</td>
      <td>Glycopyrrolate</td>
      <td>IM, SQ, IV</td>
      <td>0.005–0.02</td>
      <td><input id="dose-glycopyrrolate" type="number" step="0.001" value="0.005" class="input-number" /></td>
      <td><input id="mg-glycopyrrolate" class="output-number" readonly /></td>
      <td>0.2</td>
      <td><input id="ml-glycopyrrolate" class="output-number" readonly /></td>
      <td>Does not cross BBB</td>
      <td>Long duration of action</td>
    </tr>

    <tr><td class="sub-header" colspan="10">Tranquilizers</td></tr>

    <tr>
      <td>Tranquilizers</td>
      <td>Acepromazine</td>
      <td>IM, SQ, IV</td>
      <td>0.01–0.05</td>
      <td><input id="dose-acepromazine" type="number" step="0.001" value="0.02" class="input-number" /></td>
      <td><input id="mg-acepromazine" class="output-number" readonly /></td>
      <td>1</td>
      <td><input id="ml-acepromazine" class="output-number" readonly /></td>
      <td>Anxiolytic</td>
      <td>Hypotension</td>
    </tr>

    <tr>
      <td>Tranquilizers</td>
      <td>Diazepam</td>
      <td>IV</td>
      <td>0.1–0.5</td>
      <td><input id="dose-diazepam" type="number" step="0.01" value="0.1" class="input-number" /></td>
      <td><input id="mg-diazepam" class="output-number" readonly /></td>
      <td>5</td>
      <td><input id="ml-diazepam" class="output-number" readonly /></td>
      <td>Muscle relaxation</td>
      <td>No sedation</td>
    </tr>

    <tr>
      <td>Tranquilizers</td>
      <td>Midazolam</td>
      <td>IM, SQ, IV</td>
      <td>0.1–0.5</td>
      <td><input id="dose-midazolam" type="number" step="0.01" value="0.3" class="input-number" /></td>
      <td><input id="mg-midazolam" class="output-number" readonly /></td>
      <td>5</td>
      <td><input id="ml-midazolam" class="output-number" readonly /></td>
      <td>Reversible</td>
      <td>Do not reverse seizure patients</td>
    </tr>

    <tr><td class="sub-header" colspan="10">Opioids</td></tr>

    <tr>
      <td>Opioids</td>
      <td>Buprenorphine</td>
      <td>IM, SQ, IV, OTM</td>
      <td>0.01–0.04</td>
      <td><input id="dose-buprenorphine" type="number" step="0.001" value="0.04" class="input-number" /></td>
      <td><input id="mg-buprenorphine" class="output-number" readonly /></td>
      <td>0.3</td>
      <td><input id="ml-buprenorphine" class="output-number" readonly /></td>
      <td>Long term analgesia</td>
      <td>Difficult to reverse</td>
    </tr>

    <tr>
      <td>Opioids</td>
      <td>Butorphanol</td>
      <td>IM, SQ, IV</td>
      <td>0.2–0.8</td>
      <td><input id="dose-butorphanol" type="number" step="0.01" value="0.2" class="input-number" /></td>
      <td><input id="mg-butorphanol" class="output-number" readonly /></td>
      <td>10</td>
      <td><input id="ml-butorphanol" class="output-number" readonly /></td>
      <td>kappa agonist and mu antagonist</td>
      <td>Not effective for severe pain</td>
    </tr>

    <tr>
      <td>Opioids</td>
      <td>Fentanyl</td>
      <td>IM, SQ, IV</td>
      <td>0.002–0.01</td>
      <td><input id="dose-fentanyl" type="number" step="0.001" value="0.002" class="input-number" /></td>
      <td><input id="mg-fentanyl" class="output-number" readonly /></td>
      <td>0.05</td>
      <td><input id="ml-fentanyl" class="output-number" readonly /></td>
      <td>Good analgesia</td>
      <td>Dose-dependent decrease in TV</td>
    </tr>

    <tr>
      <td>Opioids</td>
      <td>Morphine</td>
      <td>IM, SQ, IV</td>
      <td>0.01–1.0</td>
      <td><input id="dose-morphine" type="number" step="0.01" value="0.1" class="input-number" /></td>
      <td><input id="mg-morphine" class="output-number" readonly /></td>
      <td>10</td>
      <td><input id="ml-morphine" class="output-number" readonly /></td>
      <td>Inexpensive, Sedation</td>
      <td>Bradycardia</td>
    </tr>

    <tr>
      <td>Opioids</td>
      <td>Hydromorphone</td>
      <td>IM, SQ, IV</td>
      <td>0.05–0.2</td>
      <td><input id="dose-hydromorphone" type="number" step="0.01" value="0.05" class="input-number" /></td>
      <td><input id="mg-hydromorphone" class="output-number" readonly /></td>
      <td>2</td>
      <td><input id="ml-hydromorphone" class="output-number" readonly /></td>
      <td>Analgesia</td>
      <td>Emesis</td>
    </tr>

    <tr>
      <td>Opioids</td>
      <td>Methadone</td>
      <td>IM, SQ, IV</td>
      <td>0.1–0.7</td>
      <td><input id="dose-methadone" type="number" step="0.01" value="0.5" class="input-number" /></td>
      <td><input id="mg-methadone" class="output-number" readonly /></td>
      <td>10</td>
      <td><input id="ml-methadone" class="output-number" readonly /></td>
      <td>Less vomiting</td>
      <td>Respiratory depression</td>
    </tr>

    <tr><td class="sub-header" colspan="10">Alpha-2 agonists</td></tr>

    <tr>
      <td>Alpha-2 agonists</td>
      <td>Dexmedetomidine</td>
      <td>IM, SQ, IV</td>
      <td>0.001–0.02</td>
      <td><input id="dose-dexmedetomidine" type="number" step="0.001" value="0.005" class="input-number" /></td>
      <td><input id="mg-dexmedetomidine" class="output-number" readonly /></td>
      <td>0.1</td>
      <td><input id="ml-dexmedetomidine" class="output-number" readonly /></td>
      <td>Analgesia + Sedation</td>
      <td>Bradycardia</td>
    </tr>

    <!-- INDUCTION AGENTS -->
    <tr><td class="section-header" colspan="10">Induction Agents</td></tr>

    <tr>
      <td>Induction</td>
      <td>Propofol</td>
      <td>IV</td>
      <td>2–8</td>
      <td><input id="dose-propofol" type="number" step="0.1" value="5" class="input-number" /></td>
      <td><input id="mg-propofol" class="output-number" readonly /></td>
      <td>10</td>
      <td><input id="ml-propofol" class="output-number" readonly /></td>
      <td>Rapid induction</td>
      <td>Apnea</td>
    </tr>

    <tr>
      <td>Induction</td>
      <td>Ketamine</td>
      <td>IV, IM</td>
      <td>5–7</td>
      <td><input id="dose-ketamine" type="number" step="0.1" value="6" class="input-number" /></td>
      <td><input id="mg-ketamine" class="output-number" readonly /></td>
      <td>100</td>
      <td><input id="ml-ketamine" class="output-number" readonly /></td>
      <td>Smooth induction</td>
      <td>Stings if given IM</td>
    </tr>

    <tr>
      <td>Induction</td>
      <td>Etomidate</td>
      <td>IV</td>
      <td>0.5–1.5</td>
      <td><input id="dose-etomidate" type="number" step="0.01" value="0.1" class="input-number" /></td>
      <td><input id="mg-etomidate" class="output-number" readonly /></td>
      <td>2</td>
      <td><input id="ml-etomidate" class="output-number" readonly /></td>
      <td>Minimal cardio-respiratory effects</td>
      <td>Adrenocortical suppression</td>
    </tr>

    <tr>
      <td>Induction</td>
      <td>Alfaxalone</td>
      <td>IV, IM</td>
      <td>2–5</td>
      <td><input id="dose-alfaxalone" type="number" step="0.1" value="5" class="input-number" /></td>
      <td><input id="mg-alfaxalone" class="output-number" readonly /></td>
      <td>10</td>
      <td><input id="ml-alfaxalone" class="output-number" readonly /></td>
      <td>IM injection route</td>
      <td>Noise hypersensitivity</td>
    </tr>

    <!-- ADDITIONALS -->
    <tr><td class="section-header" colspan="10">Additionals</td></tr>

    <tr>
      <td>Additionals</td>
      <td>Carprofen</td>
      <td>SQ</td>
      <td>2.2–4.4 (dogs) / 1.1–2.2 (cats)</td>
      <td><input id="dose-carprofen" type="number" step="0.1" value="2.2" class="input-number" /></td>
      <td><input id="mg-carprofen" class="output-number" readonly /></td>
      <td>50</td>
      <td><input id="ml-carprofen" class="output-number" readonly /></td>
      <td>Analgesia</td>
      <td>Renal injury</td>
    </tr>

    <tr>
      <td>Additionals</td>
      <td>Ondansetron</td>
      <td>IV</td>
      <td>0.5</td>
      <td><input id="dose-ondansetron" type="number" step="0.01" value="0.5" class="input-number" /></td>
      <td><input id="mg-ondansetron" class="output-number" readonly /></td>
      <td>2</td>
      <td><input id="ml-ondansetron" class="output-number" readonly /></td>
      <td>Decrease emesis</td>
      <td>Short acting</td>
    </tr>

    <tr>
      <td>Additionals</td>
      <td>Bupivacaine</td>
      <td>Block</td>
      <td>&lt;2 mg/kg (dog); &lt;1 mg/kg (cat)</td>
      <td><input id="dose-bupivacaine" type="number" step="0.1" value="2" class="input-number" /></td>
      <td><input id="mg-bupivacaine" class="output-number" readonly /></td>
      <td>7.5</td>
      <td><input id="ml-bupivacaine" class="output-number" readonly /></td>
      <td></td>
      <td></td>
    </tr>

    <tr>
      <td>Additionals</td>
      <td>Lidocaine</td>
      <td>Testicular block</td>
      <td>&lt;4 mg/kg (dog); &lt;2 mg/kg (cat)</td>
      <td><input id="dose-lidocaine" type="number" step="0.1" value="4" class="input-number" /></td>
      <td><input id="mg-lidocaine" class="output-number" readonly /></td>
      <td>10</td>
      <td><input id="ml-lidocaine" class="output-number" readonly /></td>
      <td></td>
      <td></td>
    </tr>
  </table>

  <script>
    const drugs = [
      { doseId: "dose-atropine",        mgId: "mg-atropine",        mlId: "ml-atropine",        conc: 0.5 },
      { doseId: "dose-glycopyrrolate",  mgId: "mg-glycopyrrolate",  mlId: "ml-glycopyrrolate",  conc: 0.2 },
      { doseId: "dose-acepromazine",    mgId: "mg-acepromazine",    mlId: "ml-acepromazine",    conc: 1 },
      { doseId: "dose-diazepam",        mgId: "mg-diazepam",        mlId: "ml-diazepam",        conc: 5 },
      { doseId: "dose-midazolam",       mgId: "mg-midazolam",       mlId: "ml-midazolam",       conc: 5 },
      { doseId: "dose-buprenorphine",   mgId: "mg-buprenorphine",   mlId: "ml-buprenorphine",   conc: 0.3 },
      { doseId: "dose-butorphanol",     mgId: "mg-butorphanol",     mlId: "ml-butorphanol",     conc: 10 },
      { doseId: "dose-fentanyl",        mgId: "mg-fentanyl",        mlId: "ml-fentanyl",        conc: 0.05 },
      { doseId: "dose-morphine",        mgId: "mg-morphine",        mlId: "ml-morphine",        conc: 10 },
      { doseId: "dose-hydromorphone",   mgId: "mg-hydromorphone",   mlId: "ml-hydromorphone",   conc: 2 },
      { doseId: "dose-methadone",       mgId: "mg-methadone",       mlId: "ml-methadone",       conc: 10 },
      { doseId: "dose-dexmedetomidine", mgId: "mg-dexmedetomidine", mlId: "ml-dexmedetomidine", conc: 0.1 },
      { doseId: "dose-propofol",        mgId: "mg-propofol",        mlId: "ml-propofol",        conc: 10 },
      { doseId: "dose-ketamine",        mgId: "mg-ketamine",        mlId: "ml-ketamine",        conc: 100 },
      { doseId: "dose-etomidate",       mgId: "mg-etomidate",       mlId: "ml-etomidate",       conc: 2 },
      { doseId: "dose-alfaxalone",      mgId: "mg-alfaxalone",      mlId: "ml-alfaxalone",      conc: 10 },
      { doseId: "dose-carprofen",       mgId: "mg-carprofen",       mlId: "ml-carprofen",       conc: 50 },
      { doseId: "dose-ondansetron",     mgId: "mg-ondansetron",     mlId: "ml-ondansetron",     conc: 2 },
      { doseId: "dose-bupivacaine",     mgId: "mg-bupivacaine",     mlId: "ml-bupivacaine",     conc: 7.5 },
      { doseId: "dose-lidocaine",       mgId: "mg-lidocaine",       mlId: "ml-lidocaine",       conc: 10 }
    ];

    function recalc() {
      const wt = parseFloat(document.getElementById("patientWeight").value) || 0;

      drugs.forEach(d => {
        const doseInput = document.getElementById(d.doseId);
        const mgOutput  = document.getElementById(d.mgId);
        const mlOutput  = document.getElementById(d.mlId);

        const dose = parseFloat(doseInput.value) || 0;
        const mg   = wt * dose;          // mg = kg * (mg/kg)
        const ml   = d.conc ? mg / d.conc : 0;  // mL = mg / (mg/mL)

        mgOutput.value = mg.toFixed(2);
        mlOutput.value = ml.toFixed(3);
      });
    }

    // Recalculate whenever weight or any dose changes
    document.getElementById("patientWeight").addEventListener("input", recalc);
    drugs.forEach(d => {
      document.getElementById(d.doseId).addEventListener("input", recalc);
    });

    // Initial calc on load
    recalc();
  </script>
</body>
</html>
